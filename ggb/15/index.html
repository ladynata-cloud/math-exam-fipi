<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>GeoGebra Classic (offline)</title>
    <script src="/GeoGebra/deployggb.js"></script>
    <style>
      body {
        margin: 0;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
        background: #fff;
        color: #111;
      }

      .page {
        max-width: 1200px;
        margin: 0 auto;
        padding: 16px;
      }

      .ggb-wrapper {
        max-width: 100%;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        overflow: hidden;
        background: #f8fafc;
      }

      .ggb-element {
        width: 100%;
        height: 640px; /* fixed height, width is responsive */
      }
    </style>
  </head>
  <body>
    <main class="page">
      <h1>GeoGebra Classic (offline)</h1>
      <p>
        Апплет загружается локально без обращений к geogebra.org.
      </p>
      <div class="ggb-wrapper">
        <div id="ggb-element" class="ggb-element"></div>
      </div>
    </main>

    <script>
      const params = {
        appName: "classic",
        filename: "/ggb/15.ggb",
        // UI settings (можно менять при необходимости)
        showToolBar: true,
        showAlgebraInput: true,
        showMenuBar: false,
        // Prevent loading webSimple assets from the web
        html5NoWebSimple: true,
      };

      const applet = new GGBApplet(params, true);
      // IMPORTANT: trailing slash is required
      applet.setHTML5Codebase("/GeoGebra/HTML5/5.0/web3d/");

      window.addEventListener("load", () => {
        applet.inject("ggb-element");
      });
    </script>
  </body>
</html>
