<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>–î–µ–ª–µ–Ω–∏–µ —É–≥–æ–ª–∫–æ–º ‚Äî —Ç—Ä–µ–Ω–∞–∂—ë—Ä</title>
  <style>
    :root { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    body { margin: 20px; line-height: 1.35; }
    .wrap { max-width: 920px; margin: 0 auto; }
    h1 { font-size: 20px; margin: 0 0 10px; }
    .bar { display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin: 12px 0 16px; }
    button { padding: 8px 12px; cursor:pointer; }
    input[type="number"]{ width: 90px; padding:6px 8px; }
    .status { padding: 8px 10px; border-radius: 10px; background: #f3f4f6; }
    .ok { background:#ecfdf5; }
    .bad { background:#fef2f2; }
    .board { margin-top: 10px; display:flex; gap:24px; flex-wrap:wrap; align-items:flex-start; }
    .problem {
      border: 1px solid #e5e7eb; border-radius: 14px; padding: 16px; min-width: 340px;
    }
    .hint {
      border: 1px dashed #e5e7eb; border-radius: 14px; padding: 16px; flex: 1;
      min-width: 280px;
    }

    /* ‚Äú—É–≥–æ–ª–æ–∫‚Äù */
    .corner {
      display: grid;
      grid-template-columns: auto 12px auto;
      grid-template-rows: auto auto;
      column-gap: 8px;
      align-items: end;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 28px;
    }
    .divisor { grid-column: 1; grid-row: 2; text-align:right; padding-right: 6px; }
    .bracket { grid-column: 2; grid-row: 2; font-weight: 700; }
    .dividend { grid-column: 3; grid-row: 2; border-top: 3px solid #111827; padding-left: 10px; }
    .quotient { grid-column: 3; grid-row: 1; padding-left: 10px; letter-spacing: 1px; min-height: 34px; }

    .steps {
      margin-top: 18px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 24px;
      white-space: pre;
    }
    .row { display:flex; gap: 10px; align-items:center; margin: 8px 0; flex-wrap:wrap; }
    .row label { font-weight: 600; }
    .small { font-size: 14px; opacity: .8; }
    .pill { display:inline-block; padding:2px 8px; border-radius:999px; background:#f3f4f6; font-size: 13px; }
    .kbd { font-family: ui-monospace, monospace; padding:2px 6px; border:1px solid #e5e7eb; border-bottom-width:2px; border-radius: 8px; }
  </style>
</head>
<body>
<div class="wrap">
  <h1>–î–µ–ª–µ–Ω–∏–µ —É–≥–æ–ª–∫–æ–º ‚Äî –ø–æ —à–∞–≥–∞–º (–∫–∞–∫ –≤ —Ç–µ—Ç—Ä–∞–¥–∏)</h1>

  <div class="bar">
    <div class="row">
      <label>–î–µ–ª–∏–º–æ–µ:</label>
      <input id="dividendIn" type="number" min="0" step="1" value="7564">
    </div>
    <div class="row">
      <label>–î–µ–ª–∏—Ç–µ–ª—å:</label>
      <input id="divisorIn" type="number" min="1" step="1" value="23">
    </div>
    <button id="startBtn">–ù–∞—á–∞—Ç—å</button>
    <button id="randomBtn">–°–ª—É—á–∞–π–Ω—ã–π –ø—Ä–∏–º–µ—Ä</button>
    <button id="resetBtn">–°–±—Ä–æ—Å</button>
    <div id="status" class="status">–í–≤–µ–¥–∏ —á–∏—Å–ª–∞ –∏ –Ω–∞–∂–º–∏ ¬´–ù–∞—á–∞—Ç—å¬ª.</div>
  </div>

  <div class="board">
    <div class="problem">
      <div class="corner" aria-label="–¥–µ–ª–µ–Ω–∏–µ —É–≥–æ–ª–∫–æ–º">
        <div class="quotient" id="quotientOut"></div>
        <div class="divisor" id="divisorOut"></div>
        <div class="bracket">)</div>
        <div class="dividend" id="dividendOut"></div>
      </div>

      <div class="steps" id="stepsOut"></div>

      <div style="margin-top: 14px;">
        <div class="row">
          <span class="pill">–¢–µ–∫—É—â–∏–π —à–∞–≥</span>
          <span class="small">–°–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏ —Å–ª–µ–¥—É—é—â—É—é —Ü–∏—Ñ—Ä—É —á–∞—Å—Ç–Ω–æ–≥–æ, –∑–∞—Ç–µ–º –æ—Å—Ç–∞—Ç–æ–∫ –ø–æ—Å–ª–µ –≤—ã—á–∏—Ç–∞–Ω–∏—è.</span>
        </div>
        <div class="row">
          <label for="qDigit">–¶–∏—Ñ—Ä–∞ —á–∞—Å—Ç–Ω–æ–≥–æ:</label>
          <input id="qDigit" type="number" min="0" max="9" step="1">
          <label for="remAfter">–û—Å—Ç–∞—Ç–æ–∫:</label>
          <input id="remAfter" type="number" min="0" step="1">
          <button id="checkBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —à–∞–≥</button>
        </div>
        <div class="small">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –º–æ–∂–Ω–æ –∂–∞—Ç—å <span class="kbd">Enter</span> –≤ –ª—é–±–æ–º –ø–æ–ª–µ.</div>
      </div>
    </div>

    <div class="hint">
      <div style="font-weight:700; margin-bottom:8px;">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</div>
      <ol style="margin:0; padding-left:18px;">
        <li>–ë–µ—Ä—ë–º —Å–ª–µ–≤–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫—É—Å–æ–∫ –¥–µ–ª–∏–º–æ–≥–æ, –∫–æ—Ç–æ—Ä—ã–π ‚â• –¥–µ–ª–∏—Ç–µ–ª—è.</li>
        <li>–ü–æ–¥–±–∏—Ä–∞–µ–º —Ü–∏—Ñ—Ä—É —á–∞—Å—Ç–Ω–æ–≥–æ (0‚Äì9).</li>
        <li>–£–º–Ω–æ–∂–∞–µ–º –¥–µ–ª–∏—Ç–µ–ª—å –Ω–∞ —ç—Ç—É —Ü–∏—Ñ—Ä—É, –≤—ã—á–∏—Ç–∞–µ–º.</li>
        <li>‚Äú–°–Ω–æ—Å–∏–º‚Äù —Å–ª–µ–¥—É—é—â—É—é —Ü–∏—Ñ—Ä—É –¥–µ–ª–∏–º–æ–≥–æ ‚Äî –ø–æ–ª—É—á–∞–µ–º –Ω–æ–≤–æ–µ —á–∏—Å–ª–æ –¥–ª—è –¥–µ–ª–µ–Ω–∏—è.</li>
      </ol>
      <div style="margin-top:10px;" class="small">
        –¢—Ä–µ–Ω–∞–∂—ë—Ä —Å–∞–º —Ä–∏—Å—É–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∏ ‚Äú—Å–Ω–æ—Å —Ü–∏—Ñ—Ä—ã‚Äù.
        –¢—ã –≤–≤–æ–¥–∏—à—å —Ç–æ–ª—å–∫–æ: <b>—Ü–∏—Ñ—Ä—É —á–∞—Å—Ç–Ω–æ–≥–æ</b> –∏ <b>–æ—Å—Ç–∞—Ç–æ–∫</b> ‚Äî –∫–∞–∫ –∫–æ–Ω—Ç—Ä–æ–ª—å –ø–æ–Ω–∏–º–∞–Ω–∏—è.
      </div>
      <hr style="border:none; border-top:1px solid #e5e7eb; margin: 12px 0;">
      <div class="small">
        –ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –¥–æ–±–∞–≤–ª—é —Ä–µ–∂–∏–º ¬´–≤—Å—ë —Ä—É–∫–∞–º–∏¬ª (—á—Ç–æ–±—ã —É—á–µ–Ω–∏–∫ –≤–≤–æ–¥–∏–ª –µ—â—ë –∏ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –∏ —Ä–∞–∑–Ω–æ—Å—Ç—å –ø–æ—Å—Ç—Ä–æ—á–Ω–æ).
      </div>
    </div>
  </div>
</div>

<script>
(() => {
  const el = (id) => document.getElementById(id);

  const dividendIn = el('dividendIn');
  const divisorIn  = el('divisorIn');

  const startBtn   = el('startBtn');
  const randomBtn  = el('randomBtn');
  const resetBtn   = el('resetBtn');
  const checkBtn   = el('checkBtn');

  const status     = el('status');
  const divisorOut = el('divisorOut');
  const dividendOut= el('dividendOut');
  const quotientOut= el('quotientOut');
  const stepsOut   = el('stepsOut');

  const qDigitIn   = el('qDigit');
  const remAfterIn = el('remAfter');

  let st = null;

  function setStatus(text, kind = 'neutral') {
    status.textContent = text;
    status.className = 'status' + (kind === 'ok' ? ' ok' : kind === 'bad' ? ' bad' : '');
  }

  function sanitizeInt(v, fallback = null) {
    if (v === '' || v === null || v === undefined) return fallback;
    const n = Number(v);
    if (!Number.isFinite(n)) return fallback;
    return Math.trunc(n);
  }

  function makeRandom() {
    // 2‚Äì4 —Ü–∏—Ñ—Ä—ã –¥–µ–ª–∏–º–æ–µ, 1‚Äì2 —Ü–∏—Ñ—Ä—ã –¥–µ–ª–∏—Ç–µ–ª—å, –Ω–µ 0.
    const divisor = Math.floor(Math.random() * 89) + 11;      // 11..99
    const dividend = Math.floor(Math.random() * 9000) + 1000; // 1000..9999
    dividendIn.value = dividend;
    divisorIn.value = divisor;
    start();
  }

  function resetUI() {
    divisorOut.textContent = '';
    dividendOut.textContent = '';
    quotientOut.textContent = '';
    stepsOut.textContent = '';
    qDigitIn.value = '';
    remAfterIn.value = '';
  }

  function start() {
    const dividend = sanitizeInt(dividendIn.value, null);
    const divisor  = sanitizeInt(divisorIn.value, null);

    if (dividend === null || divisor === null || divisor <= 0 || dividend < 0) {
      setStatus('–ü—Ä–æ–≤–µ—Ä—å —á–∏—Å–ª–∞: –¥–µ–ª–∏–º–æ–µ ‚â• 0, –¥–µ–ª–∏—Ç–µ–ª—å > 0.', 'bad');
      return;
    }

    // –°–æ—Å—Ç–æ—è–Ω–∏–µ
    const digits = String(dividend).split('').map(d => Number(d));

    st = {
      dividend,
      divisor,
      digits,
      i: 0,              // –∏–Ω–¥–µ–∫—Å —Å–ª–µ–¥—É—é—â–µ–π —Ü–∏—Ñ—Ä—ã –¥–µ–ª–∏–º–æ–≥–æ –¥–ª—è "—Å–Ω–æ—Å–∞"
      current: 0,        // —Ç–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ –¥–ª—è –¥–µ–ª–µ–Ω–∏—è
      quotientDigits: [],// –º–∞—Å—Å–∏–≤ —Ü–∏—Ñ—Ä —á–∞—Å—Ç–Ω–æ–≥–æ (–≤ —Ç.—á. –Ω—É–ª–∏ –≤–Ω—É—Ç—Ä–∏)
      steps: [],         // —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è "—Ç–µ—Ç—Ä–∞–¥–Ω–æ–≥–æ" –≤–∏–¥–∞
      finished: false
    };

    resetUI();
    divisorOut.textContent = String(divisor);
    dividendOut.textContent = String(dividend);

    // –ü–æ–¥–≥–æ—Ç–æ–≤–∏–º –ø–µ—Ä–≤—ã–π current: –±–µ—Ä—ë–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–µ—Ñ–∏–∫—Å >= divisor (–∏–ª–∏ –≤–µ—Å—å, –µ—Å–ª–∏ –º–µ–Ω—å—à–µ)
    buildNextCurrentToAtLeastDivisor();

    render();
    setStatus('–®–∞–≥ 1: –≤–≤–µ–¥–∏ —Å–ª–µ–¥—É—é—â—É—é —Ü–∏—Ñ—Ä—É —á–∞—Å—Ç–Ω–æ–≥–æ –∏ –æ—Å—Ç–∞—Ç–æ–∫.', 'neutral');
    qDigitIn.focus();
  }

  function buildNextCurrentToAtLeastDivisor() {
    // "–°–Ω–æ—Å–∏–º" —Ü–∏—Ñ—Ä—ã, –ø–æ–∫–∞ current < divisor –∏ –µ—Å—Ç—å –µ—â—ë —Ü–∏—Ñ—Ä—ã,
    // –ø—Ä–∏ —ç—Ç–æ–º –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å —Ü–∏—Ñ—Ä—ã —á–∞—Å—Ç–Ω–æ–≥–æ ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º 0 –≤ —á–∞—Å—Ç–Ω–æ–µ (–∫–∞–∫ –≤ –æ–±—ã—á–Ω–æ–º –¥–µ–ª–µ–Ω–∏–∏).
    while (st.i < st.digits.length && st.current < st.divisor) {
      st.current = st.current * 10 + st.digits[st.i];
      st.i++;
      if (st.quotientDigits.length > 0) st.quotientDigits.push(0);
    }
    // –ï—Å–ª–∏ –º—ã –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –∏ –≤—Å—ë –µ—â—ë current < divisor –∏ —Ü–∏—Ñ—Ä—ã –∫–æ–Ω—á–∏–ª–∏—Å—å:
    // —á–∞—Å—Ç–Ω–æ–µ –±—É–¥–µ—Ç 0, –æ—Å—Ç–∞—Ç–æ–∫ = dividend.
  }

  function expectedStep() {
    if (!st || st.finished) return null;

    // –ï—Å–ª–∏ —É–∂–µ –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å —Ü–∏—Ñ—Ä –∏ current < divisor: –∑–∞–≤–µ—Ä—à–∞–µ–º
    if (st.i >= st.digits.length && st.current < st.divisor) {
      return {
        done: true,
        quotient: st.quotientDigits.length ? st.quotientDigits.join('') : '0',
        remainder: st.current
      };
    }

    // –û–∂–∏–¥–∞–µ–º—É—é —Ü–∏—Ñ—Ä—É —á–∞—Å—Ç–Ω–æ–≥–æ
    const q = Math.floor(st.current / st.divisor);
    const prod = q * st.divisor;
    const rem = st.current - prod;

    // –°–ª–µ–¥—É—é—â–µ–µ —á–∏—Å–ª–æ –ø–æ—Å–ª–µ "—Å–Ω–æ—Å–∞"
    let nextCurrent = rem;
    let bringDownDigit = null;
    if (st.i < st.digits.length) {
      bringDownDigit = st.digits[st.i];
      nextCurrent = rem * 10 + bringDownDigit;
    }

    return {
      done: false,
      qDigit: q,
      product: prod,
      remainder: rem,
      bringDownDigit,
      nextCurrent
    };
  }

  function applyStep(userQDigit, userRemainder) {
    const exp = expectedStep();
    if (!exp) return;

    if (exp.done) {
      st.finished = true;
      return;
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    if (userQDigit !== exp.qDigit) {
      setStatus(`–ù–µ —Å—Ö–æ–¥–∏—Ç—Å—è —Ü–∏—Ñ—Ä–∞ —á–∞—Å—Ç–Ω–æ–≥–æ. –ü–æ–¥—É–º–∞–π: ${st.current} : ${st.divisor}.`, 'bad');
      return;
    }
    if (userRemainder !== exp.remainder) {
      setStatus(`–û—Å—Ç–∞—Ç–æ–∫ –ø–æ—Å–ª–µ –≤—ã—á–∏—Ç–∞–Ω–∏—è –Ω–µ–≤–µ—Ä–Ω—ã–π. –ü—Ä–æ–≤–µ—Ä—å: ${st.current} - ${st.divisor}√ó${exp.qDigit}.`, 'bad');
      return;
    }

    // –ó–∞–ø–∏—Å—ã–≤–∞–µ–º —Ü–∏—Ñ—Ä—É —á–∞—Å—Ç–Ω–æ–≥–æ
    st.quotientDigits.push(exp.qDigit);

    // –†–∏—Å—É–µ–º ‚Äú—Ç–µ—Ç—Ä–∞–¥–Ω—ã–π‚Äù —à–∞–≥
    // –ë—É–¥–µ–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –ø–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é —Ç–µ–∫—É—â–µ–≥–æ –±–ª–æ–∫–∞: width = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–∏—Ñ—Ä –≤ current
    const width = String(st.current).length;

    const line1 = padLeft(String(exp.product), width);
    const line2 = padLeft('-'.repeat(String(exp.product).length), width); // —É—Å–ª–æ–≤–Ω–∞—è —á–µ—Ä—Ç–∞
    const line3 = padLeft(String(exp.remainder), width);

    st.steps.push(`–¢–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ: ${st.current}`);
    st.steps.push(`  ${line1}`);
    st.steps.push(`  ${line2}`);
    st.steps.push(`  ${line3}`);

    // –°–Ω–æ—Å–∏–º —Å–ª–µ–¥—É—é—â—É—é —Ü–∏—Ñ—Ä—É, –µ—Å–ª–∏ –µ—Å—Ç—å
    st.current = exp.remainder;
    if (exp.bringDownDigit !== null) {
      st.steps.push(`  ‚Üì —Å–Ω–æ—Å–∏–º ${exp.bringDownDigit}`);
      st.current = exp.nextCurrent;
      st.i += 1;
    } else {
      // —Ü–∏—Ñ—Ä –±–æ–ª—å—à–µ –Ω–µ—Ç ‚Äî –¥–∞–ª—å—à–µ –ø—Ä–æ—Å—Ç–æ –±—É–¥–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ current < divisor
      st.steps.push(`  (—Ü–∏—Ñ—Ä—ã –∫–æ–Ω—á–∏–ª–∏—Å—å)`);
    }

    // –ï—Å–ª–∏ current < divisor, –Ω–æ —Ü–∏—Ñ—Ä—ã –µ—â—ë –µ—Å—Ç—å ‚Äî –Ω—É–∂–Ω–æ ‚Äú–¥–æ—Å–Ω–æ—Å–∏—Ç—å‚Äù –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω—É–ª–∏ –≤ —á–∞—Å—Ç–Ω–æ–º
    if (st.i < st.digits.length && st.current < st.divisor) {
      buildNextCurrentToAtLeastDivisor();
    }

    // –û—á–∏—Å—Ç–∏–º –≤–≤–æ–¥
    qDigitIn.value = '';
    remAfterIn.value = '';
    render();

    // –ï—Å–ª–∏ –¥–æ—à–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞ ‚Äî —Å–æ–æ–±—â–∏–º –∏—Ç–æ–≥
    const exp2 = expectedStep();
    if (exp2 && exp2.done) {
      st.finished = true;
      render();
      setStatus(`–ì–æ—Ç–æ–≤–æ! –ß–∞—Å—Ç–Ω–æ–µ: ${exp2.quotient}, –æ—Å—Ç–∞—Ç–æ–∫: ${exp2.remainder}.`, 'ok');
      return;
    }

    setStatus('–í–µ—Ä–Ω–æ! –ò–¥—ë–º –¥–∞–ª—å—à–µ: —Å–ª–µ–¥—É—é—â–∞—è —Ü–∏—Ñ—Ä–∞ —á–∞—Å—Ç–Ω–æ–≥–æ –∏ –æ—Å—Ç–∞—Ç–æ–∫.', 'ok');
    qDigitIn.focus();
  }

  function padLeft(s, width) {
    return s.length >= width ? s : ' '.repeat(width - s.length) + s;
  }

  function render() {
    if (!st) return;

    // –ß–∞—Å—Ç–Ω–æ–µ —Å–≤–µ—Ä—Ö—É
    quotientOut.textContent = st.quotientDigits.length ? st.quotientDigits.join('') : '';

    // –®–∞–≥–∏
    stepsOut.textContent = st.steps.join('\n');

    // –ü–æ–¥–ø–∏—Å—å —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    if (!st.finished) {
      const exp = expectedStep();
      if (exp && !exp.done) {
        // –ú–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π –±–ª–æ–∫ (–±–µ–∑ —Å–ø–æ–π–ª–µ—Ä–æ–≤)
        // –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º qDigit/product/rem ‚Äî —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–µ–µ —á–∏—Å–ª–æ.
        // status —É–∂–µ –µ—Å—Ç—å ‚Äî –æ—Å—Ç–∞–≤–∏–º.
      }
    }
  }

  function onCheck() {
    if (!st) { setStatus('–°–Ω–∞—á–∞–ª–∞ –Ω–∞–∂–º–∏ ¬´–ù–∞—á–∞—Ç—å¬ª.', 'bad'); return; }
    if (st.finished) { setStatus('–£–∂–µ –≥–æ—Ç–æ–≤–æ üôÇ –ù–∞–∂–º–∏ ¬´–°–ª—É—á–∞–π–Ω—ã–π –ø—Ä–∏–º–µ—Ä¬ª –∏–ª–∏ ¬´–°–±—Ä–æ—Å¬ª.', 'neutral'); return; }

    const qd = sanitizeInt(qDigitIn.value, null);
    const rem = sanitizeInt(remAfterIn.value, null);

    if (qd === null || rem === null) {
      setStatus('–ó–∞–ø–æ–ª–Ω–∏ –æ–±–∞ –ø–æ–ª—è: —Ü–∏—Ñ—Ä–∞ —á–∞—Å—Ç–Ω–æ–≥–æ –∏ –æ—Å—Ç–∞—Ç–æ–∫.', 'bad');
      return;
    }
    if (qd < 0 || qd > 9) { setStatus('–¶–∏—Ñ—Ä–∞ —á–∞—Å—Ç–Ω–æ–≥–æ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 0‚Äì9.', 'bad'); return; }
    if (rem < 0) { setStatus('–û—Å—Ç–∞—Ç–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º.', 'bad'); return; }

    applyStep(qd, rem);
  }

  // Events
  startBtn.addEventListener('click', start);
  randomBtn.addEventListener('click', makeRandom);
  resetBtn.addEventListener('click', () => { st = null; resetUI(); setStatus('–°–±—Ä–æ—à–µ–Ω–æ. –í–≤–µ–¥–∏ —á–∏—Å–ª–∞ –∏ –Ω–∞–∂–º–∏ ¬´–ù–∞—á–∞—Ç—å¬ª.'); });

  checkBtn.addEventListener('click', onCheck);

  [qDigitIn, remAfterIn].forEach(inp => {
    inp.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') onCheck();
    });
  });

})();
</script>
</body>
</html>
